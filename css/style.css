.text-align-one-third {
    text-align: left;
    max-width: 1200px;
    margin-left: calc(100% / 2);
  }
  
  @media (max-width: 960px) {
    .text-align-one-third {
      margin-left: 0;
      text-align: center;
    }
    /* Narrow contact form before footer on tablets portrait */
    @media (orientation: portrait) {
      .contacts .contact-form-block {
        max-width: calc(100% - 10vw);
      }
    }
  }
  :root {
    --bg: #ffffff;
    --bg-2: #f6f7f9;
    --fg: #0b0f14;
    --muted: #5b6b80;
    --accent: #ff2f2f;
    --accent-2: #ff6b6b;
    --glass-bg: rgba(0, 0, 0, 0.04);
    --glass-stroke: rgba(0, 0, 0, 0.12);
    --ring: rgba(255, 47, 47, 0.6);
    --index: calc(1vw + 1vh);
  }

  /* New header (from narabotky) */
  .header {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    border-radius: 50px;
    background: #ffffff;
    z-index: 51;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
  }
  .header__container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
  }
  .header__logo { font-weight: 800; margin-left: 3rem; }
  .header__right { display: flex; align-items: center; gap: 12px; }
  .header__contact { color: #0077cc; }

  .burger {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 50;
    width: 40px;
    height: 30px;
    background: transparent;
    border: none;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
  }
  .burger__line {
    width: 45px;
    height: 4px;
    background: #A8A8A8;
    border-radius: 2px;
    transition: transform 0.4s ease, opacity 0.3s ease, width 0.4s ease;
    transform-origin: center center;
  }
  .burger:not(.active) .top,
  .burger:not(.active) .bottom { animation: pulse-lines 2.1s infinite ease-in-out; }
  .burger:not(.active) .middle { animation: pulse-middle 2.1s infinite ease-in-out; }
  @keyframes pulse-lines { 0%, 100% { transform: scaleX(1); } 50% { transform: scaleX(0.52); } }
  @keyframes pulse-middle { 0%, 100% { transform: scaleX(0.59); } 50% { transform: scaleX(1); } }
  .burger.active .top { transform: translateY(12.5px) rotate(45deg); animation: none; }
  .burger.active .middle { opacity: 0; animation: none; }
  .burger.active .bottom { transform: translateY(-12.5px) rotate(-45deg); animation: none; }

  .menu-container {
    position: fixed;
    top: calc(20px + 110px);
    left: 27.5%;
    width: 45%;
    height: 0;
    display: flex;
    justify-content: center;
    overflow: hidden;
    background: rgba(0, 0, 0, 0);
    transition: height 0.3s ease;
    z-index: 55;
    border-radius: 50px;
    pointer-events: none;
    visibility: hidden;
  }
  .menu-container.active { height: 75vh; visibility: visible; pointer-events: auto; }
  @media (min-width: 1441px) { .menu-container.active { height: calc(75vh + 2vh); } }
  @media (min-width: 1024px) and (max-width: 1440px) { .menu-container.active { height: calc(75vh + 2vh); } }
  .menu-line {
    position: absolute;
    top: 0;
    left: 50%;
    width: 1px;
    background: rgba(0, 0, 0, 0.5);
    height: 0;
    transform: translateX(-50%);
    z-index: 56;
    pointer-events: none;
  }
  .menu-container .menu-line { transition: opacity .3s ease; }
  .menu-container.line-animate .menu-line { animation: growLine 0.45s forwards; }
  .menu-container.hide-line .menu-line { opacity: 0; }
  @keyframes growLine { from { height: 0; } to { height: 70vh; } }
  @keyframes shrinkLine { from { height: 70vh; } to { height: 0; } }
  .menu-inner {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    padding: 40px 60px 60px;
    opacity: 1;
    overflow: hidden;
    font-family: 'Unbounded';
    font-size: calc(var(--index) * 0.66);
    /* Reveal from center slit without scaling content */
    clip-path: polygon(50% 0, 50% 0, 50% 100%, 50% 100%);
    transition: clip-path 1.4s cubic-bezier(0.22, 0.61, 0.36, 1);
    border-radius: 50px;
    border: #000 solid 1px;
    z-index: 55;
    background: #ffffff;
    align-items: flex-start; /* lift content vertically inside container */
  }
  .menu-container.show-content .menu-inner { 
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
  .menu-container.hide-content .menu-inner { 
    clip-path: polygon(50% 0, 50% 0, 50% 100%, 50% 100%); 
    transition: clip-path 0.6s ease; 
  }
  .menu-container.hide-content { pointer-events: none; }
  .menu-left, .menu-right { 
    flex: 0 1 auto; 
    padding: 40px; 
    z-index: 2; 
    position: relative; }
  .menu-left { 
    width: 25rem;
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    text-align: center; 
    padding-top: 25px; 
  }

  .menu-left h2 { 
    margin: 15px 0 18px; 
  }
  .menu-left ul { 
    list-style: none; 
    padding: 0; 
    margin: 0;
    margin-bottom: 1rem; 
    width: min(420px, 80%);  
  }
  .menu-left li { 
    margin: 0; 
    padding: 12px 0; 
    overflow: hidden;
  }
  .menu-left li:not(:first-child) { 
    border-top: 1px solid rgba(255, 47, 47,0.15); 
  }
  .menu-left a { 
    color: inherit; 
    text-decoration: none; 
    display: block; 
    padding: 0.3em 0; 
    letter-spacing: 1px; 
  }

  .menu-left a:before, .menu-left a:after { content: none; }
  .menu-left li:hover a { transform: none; }
  .menu-divider { width: min(420px, 120%); height: 1px; background: rgba(0,0,0,0.2); margin-bottom: 1.5rem; }
  .menu-contacts { 
    text-align: center; 
  }
  .menu-contacts h4 { display: inline;}
  .menu-contacts h4 + p { display: inline; white-space: nowrap; }
  .menu-contacts p { margin: 0 0 8px; color: var(--muted); }
  .menu-contacts p + h4 { display: block; margin-top: 8px; }
  .menu-contacts p { display: inline-block; text-align: center; }
  .menu-logo { position: absolute; top: 65px; display: inline-flex; align-items: center; }
  .menu-logo img { height: 56px; }

  /* Center menu logo above the "Меню" heading on tablets, MacBooks, and desktop */
  @media (min-width: 769px) {
    .menu-logo { left: 50%; top: 32px; transform: translateX(-50%); }
    .menu-left h2 { margin-top: 62px; }
  }

  /* Cascade content appearance after panel reveal */
  .menu-left h2,
  .menu-left ul li,
  .menu-divider,
  .menu-contacts > * {
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity .45s ease, transform .45s ease;
  }
  .menu-container.content-appear .menu-left h2 {
     opacity: 1; 
     transform: none; 
     transition-delay: .1s; 
    }
  .menu-container.content-appear .menu-left ul li:nth-child(1) { opacity: 1; transform: none; transition-delay: .18s; }
  .menu-container.content-appear .menu-left ul li:nth-child(2) { opacity: 1; transform: none; transition-delay: .26s; }
  .menu-container.content-appear .menu-left ul li:nth-child(3) { opacity: 1; transform: none; transition-delay: .34s; }
  .menu-container.content-appear .menu-left ul li:nth-child(4) { opacity: 1; transform: none; transition-delay: .42s; }
  .menu-container.content-appear .menu-left ul li:nth-child(5) { opacity: 1; transform: none; transition-delay: .5s; }
  .menu-container.content-appear .menu-left ul li:nth-child(6) { opacity: 1; transform: none; transition-delay: .58s; }
  .menu-container.content-appear .menu-divider { opacity: 1; transform: none; transition-delay: .7s; }
  .menu-container.content-appear .menu-contacts > * { opacity: 1; transform: none; transition-delay: .82s; }
  .blog-links a { display: block; height: 100px; width: 100%; background: #f5f5f5; margin-bottom: 16px; padding: 10px; text-align: left; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

  /* Language dropdown + phone button (reused from previous header) */
  .lang-switch { position: relative; display: inline-block; }
  .lang-btn { width: 40px; height: 40px; border-radius: 50%; border: 1px solid #000000; background: transparent; color: #000000; }
  .lang-btn.is-active, .lang-btn:hover { background: #ffffff; color: #ff2f2f; border: 1px solid #ff2f2f;}
  /* Animated dropdown emerging from the button */
  .lang-list {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    transform-origin: 50% 0%;
    will-change: height, opacity;
    transition: height 0.8s cubic-bezier(0.22, 0.61, 0.36, 1), opacity .6s ease;
    width: 100%;
    top: 0%; /* без разрыва, примыкает к кнопке */
    list-style: none;
    margin: 0;
    padding: 6px;
    border-radius: 25px;
    border: 1px solid #ff2f2f;
    background: rgba(255, 255, 255, 0.25);
    display: flex;
    text-align: center;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end; /* пункты прижаты к низу */
    z-index: 10;
    opacity: 0;
    overflow: hidden;
    height: 0; /* закрыто по умолчанию */
    pointer-events: none;
  }
  /* внутренняя разделительная граница под кнопкой для визуального разграничения */
  .lang-list::before {
    content: "";
    position: absolute;
    top: 0;
    left: 8px;
    right: 8px;
    height: 1px;
    background: rgba(255, 47, 47, 0.7);
    pointer-events: none;
  }
  /* Add inner top space so content starts below button edge */
  .lang-list li:first-child { padding-top: 10px; }
  .lang-list li { padding: 6px 10px; border-radius: 8px; cursor: pointer; color: var(--accent); text-align: center; }
  .lang-list li:hover { background: var(--accent); color: #ffffff; border: 1px solid #ff2f2f;}
  .lang-switch.open .lang-list { pointer-events: auto; }
  .cta-phone { display: inline-flex; align-items: center; justify-content: center; border-radius: 50%; border: 1px solid #000000; background: transparent; color: #000000;margin-left: 1rem; margin-right: 2rem;}
  .cta-phone:hover { background: #ffffff; color: #ff2f2f; border: 1px solid #ff2f2f; }
  .cta-phone svg { width: 40px; height: 40px; padding: 10px; border-radius: 50%; background: transparent; transform-origin: center; color: #000000; fill: currentColor; }
  .cta-phone:hover svg { color: #ff2f2f; }
  .cta-phone { animation: tiltTwice 2.5s infinite ease-in-out; transform-origin: center; }
  @keyframes tiltTwice {
    0% { transform: rotate(0deg); }
    10% { transform: rotate(30deg); }
    20% { transform: rotate(-30deg); }
    30% { transform: rotate(30deg); }
    40% { transform: rotate(0deg); }
    100% { transform: rotate(0deg); }
  }
  /* Ripple hover for lang button and phone button (white fill, red text/border) */
  .lang-btn, .cta-phone {
    position: relative;
    overflow: hidden;
    z-index: 0; /* ensure ::before can sit behind content with z-index -1 */
  }
  .lang-btn::before, .cta-phone::before {
    content: '';
    position: absolute;
    top: var(--y, 50%);
    left: var(--x, 50%);
    transform: translate(-50%, -50%);
    width: 0;
    height: 0;
    background-color: #ffffff;
    border-radius: 50%;
    transition: width 0.9s ease, height 0.9s ease;
    pointer-events: none;
    z-index: -1;
  }
  .lang-btn:hover::before, .cta-phone:hover::before {
    width: 300px;
    height: 300px;
  }
  /* Ensure hover colors match requirement */
  .lang-btn:hover { background: #ffffff; color: #ff2f2f; border-color: #ff2f2f; position: relative; z-index: 0; }
  .cta-phone:hover { background: #ffffff; color: #ff2f2f; border-color: #ff2f2f; position: relative; z-index: 0; }
  
  * {
    box-sizing: border-box;
  }
  
  html,
  body {
    height: 100%;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
body {
    margin: 0;
    font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
  color: #0b0f14;
  background: #ffffff;
    overflow-x: hidden;
  }
  
  .smooth-wrapper {
    position: relative;
  }
  
  .smooth-content {
    will-change: transform;
  }
  
  a {
    color: inherit;
    text-decoration: none;
  }
  
  img {
    display: block;
    max-width: 100%;
    height: auto;
  }
  
  button {
    font: inherit;
    color: inherit;
    background: none;
    border: none;
    cursor: pointer;
  }
  
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.8rem 1.2rem;
    border-radius: 12px;
    border: 1px solid var(--glass-stroke);
    background: transparent;
    backdrop-filter: blur(8px);
    position: relative;
    overflow: hidden;
    z-index: 0;
  }

  /* Feedback button: text and border turn accent on mask */
  .site-footer .btn.ghost[data-open="feedback-modal"]:hover {
    color: #ff2f2f;
    border-color: #ff2f2f;
  }

  [data-open="feedback-modal"] {
    background: transparent;
    color: var(--accent);
    border: 1px solid var(--accent);
  }
  
  .btn.primary {
    background: transparent;
    color: var(--accent);
    border-color: var(--accent);
    font-weight: 700;
  }

/* Hero + forms primary button hover ripple (accent red) */
.hero .btn.primary,
.contacts .btn.primary,
.modal .btn.primary {
  position: relative;
  overflow: hidden;
  border-radius: 25px;
}
.hero .btn.primary > span,
.contacts .btn.primary > span,
.modal .btn.primary > span { position: relative; z-index: 1; }
.hero .btn.primary::before,
.contacts .btn.primary::before,
.modal .btn.primary::before {
  content: '';
  position: absolute;
  top: var(--y, 50%);
  left: var(--x, 50%);
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  background-color: #ff2f2f;
  border-radius: 50%;
  transition: width 0.9s ease, height 0.9s ease;
}
.hero .btn.primary:hover::before,
.contacts .btn.primary:hover::before {
  /* larger radius so it fully fills the narrower button */
  width: 520px;
  height: 520px;
}
.modal .btn.primary:hover::before {
  /* larger radius for modal button */
  width: 420px;
  height: 420px;
}
.hero .btn.primary:hover,
.contacts .btn.primary:hover,
.modal .btn.primary:hover { color: #ffffff; border-color: #ff2f2f; }

  /* Press radial fill removed */

/* Form buttons sizing and centering */
.contacts .btn.primary {
  margin-top: 1.2rem;
  width: 65%; /* reduced by ~55% of full width */
  justify-self: center;
}
.modal .btn.primary {
  width: 70%; /* reduced by ~30% of full width */
  justify-self: center;
}

/* Narrower feedback modal window (~35% reduction) */
#feedback-modal .modal-window {
  width: min(572px, 60vw);
}
  
  .btn.ghost {
    color: var(--fg);
  }
  
  /* header, language switcher, and menu overlay styles removed */

  /* Keep generic logo styling for footer usage */
  .logo {
    font-weight: 800;
    letter-spacing: 0.3px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }
  
  /* Sections */
  .section {
    padding: 72px 16px;
    scroll-margin-top: 96px;
  }
  
  .section .section-heading h2 {
    margin: 2rem auto;
    max-width: 1200px;
    padding: 0 0;
    font-size: calc(var(--index) * 1.2);
    text-align: center;
    color: #ffffff;
  }
  
  .hero {
    min-height: 80vh;
    display: grid;
    place-items: center;
    position: relative;
    overflow: hidden;
    padding-bottom: 48px;
    font-family: 'Montserrat';
  }
  
  .hero-inner {
    max-width: 1200px;
    width: 100%;
    padding: 0 16px;
  }
  
  .hero-title {
    font-size: clamp(32px, 4.6vw, 56px);
    line-height: 1.05;
    margin: 0 0 10px;
    letter-spacing: 2px;
  }
  
  .hero-sub {
    color: var(--muted);
    max-width: 720px;
    margin: 0 0 20px;
  }
  /* Repair Slider */
.repair {
  background: rgba(82, 82, 82, 0.3);
  height: 100vh;
}

/* Lock body scroll when products modal is open */
body.modal-open {
  overflow: hidden;
}
  .repair .repair-slider {
    max-width: 75%;
    margin: -12vh auto 0;
  }
  
  .repair .swiper {
    padding: 24px 16px;
  }
  
.repair .swiper-slide {
  position: relative;
  width: clamp(720px, 60%, 1080px);
  height: clamp(520px, 75vh, 860px);
  border-radius: 18px;
  background: transparent;
  overflow: hidden;
}
  
  .repair .swiper-wrapper {
    align-items: center;
  }
  
.repair .swiper {
  --swiper-navigation-size: 28px;
  background: transparent;
}
  
  .repair .slide-visual {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    pointer-events: none;
  }
  
  .repair .slide-visual img {
  max-width: min(780px, 72%);
  max-height: 72%;
  object-fit: contain;
  transform-origin: center center;
  }

/* Tablets slide: rotate 90deg CCW across all devices */
.repair .swiper-slide[data-kind="tablets"] .slide-visual img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(310deg) scale(0.9);
  transition: transform 0.5s ease;
  will-change: transform;
}

/* Style first slide (smartphones): rotate and scale down to match others */
.repair .swiper-slide[data-kind="smartphones"] .slide-visual img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(70deg) scale(0.82);
  transition: transform 0.5s ease;
  will-change: transform;
}
  
.repair h2 {
  margin: 0;
  font-family: 'Unbounded';
  letter-spacing: 4px;
  font-size: calc(var(--index) * 2.1);
}

/* Increase Repair heading size overriding generic section heading */
.section.repair .section-heading h2 {
  font-size: calc(var(--index) * 2.1);
}
  
.repair p {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 6.5rem;
  margin: 0;
  color: #1f1f1f;
}
  
.repair .btn {
  position: absolute;
  left: 50%;
  padding: 16px 14px;
  transform: translateX(-50%);
  bottom: 1.2rem;
  background: rgba(255, 255, 255, 0.25);
  color: #ffffff !important;
  border: 1px solid #ffffff !important;
  border-radius: 25px;
  font-family: 'Montserrat';
  font-weight: 600;
}

/* Hover shine + subtle scale for gallery 'View' and slider 'Fix my …' buttons */
.acc-card .btn.ghost {
  position: relative;
  overflow: hidden;
  transition: transform 0.25s ease;
  backface-visibility: hidden;
  will-change: transform;
  color: #ffffff;
  border-color: #ffffff;
  font-family: 'Montserrat';
}
.repair .btn.ghost {
  /* keep absolute positioning from .repair .btn; only add effects */
  overflow: hidden;
  transition: transform 0.25s ease;
  backface-visibility: hidden;
  will-change: transform;
}
.acc-card .btn.ghost::after,
.repair .btn.ghost::after {
  content: '';
  position: absolute;
  inset: -60%;
  background: linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,0) 65%);
  transform: translateX(-120%) rotate(10deg);
  transition: transform 0.8s ease;
  pointer-events: none;
}
.acc-card .btn.ghost:hover { transform: scale(1.04); }
.repair .btn.ghost:hover { transform: translateX(-50%) translateY(0) scale(1.04); }
.acc-card .btn.ghost:hover::after,
.repair .btn.ghost:hover::after,
.acc-card .btn.ghost:focus-visible::after,
.repair .btn.ghost:focus-visible::after {
  transform: translateX(120%) rotate(10deg);
}
.acc-card .btn.ghost:active { transform: scale(0.995); }
.repair .btn.ghost:active { transform: translateX(-50%) translateY(0) scale(0.995); }

/* Repair slider: delayed appear of slide button near transition end */
.repair .swiper-slide .btn {
  opacity: 0;
  transform: translateX(-50%) translateY(-12px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.repair .swiper-slide.is-btn-visible .btn {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.repair .swiper-pagination {
  position: static;
  margin-top: 2rem;
  margin-left: 45.2%;
}
.repair .swiper .swiper-pagination-bullets {
  display: inline-block;
  border: 1px solid #ffffff;
  border-radius: 25px;
  padding: 6px 10px 8px;
  background-color: #ffffff;
  max-width: 8rem;
}
  
  /* Store Intro */
  .store .store-intro {
    max-width: 1200px;
    margin: 0 auto 20px;
    display: grid;
    grid-template-columns: 35vh 1fr;
    gap: 18px;
    align-items: center;
    font-family: 'Montserrat';
  }
  
  .store .store-intro-media {
    width: 35vh;
    height: 35vh;
    border-radius: 16px;
    overflow: hidden;
  }
  
  .store .store-intro-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  }
  .store .store-intro-text {
    padding: 2.5rem;
    margin: 2.5rem;
  }
  /* Raise only the text block in store intro */
  .store .store-intro-text { margin-top: calc(var(--index) * -0.9); }
  
  .store .store-intro-text h2 {
    margin: 0 0 8px;
  }
  
  .store .store-intro-text p {
    margin: 0;
    color: var(--muted);
  }
  /* Raise only the text block in about intro */
  .about .about-intro-text { margin-top: calc(var(--index) * -0.9); }
  
  /* Accessories Gallery */
.accessories-gallery {
  position: relative;
  max-width: 75vw;
  max-height: 65vh;
  margin: 96px auto;
  display: grid;
  grid-template-columns: 48px 1fr 48px;
  align-items: center;
  gap: 16px;
  overscroll-behavior-x: contain;
}
  
.gallery-track {
  position: relative;
  height: 55vh;
  overflow: visible;
  touch-action: pan-x;
  cursor: grab;
}
  
  .gallery-arrow {
    display: inline-grid;
    place-items: center;
  }
  
  .gallery-arrow span {
    width: 30px;
    height: 30px;
    border: 5px solid #000000;
    border-left: none;
    border-top: none;
  transform: rotate(45deg);
  animation: arrowPulse 0.8s infinite ease-in-out alternate;
  }
  
.gallery-arrow.left span {
  transform: rotate(135deg);
  --rot: 135deg;
}
.gallery-arrow.right span {
  transform: rotate(-45deg);
  --rot: -45deg;
}

@keyframes arrowPulse {
  from { transform: translateX(0) rotate(var(--rot,45deg)); }
  to { transform: translateX(6px) rotate(var(--rot,45deg)); }
}
  
  /* Tablet landscape: push gallery arrows outward slightly more */
  @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
    .accessories-gallery {
      max-width: 92vw; /* ближе к краям вьюпорта, но оставляем поля */
      grid-template-columns: minmax(28px, 8.5vw) 1fr minmax(28px, 8.5vw);
    }
    .gallery-arrow {
      position: relative;
      z-index: 5;
    }
    .gallery-arrow.left { transform: translateX(-4px); }
    .gallery-arrow.right { transform: translateX(4px); }
  }
  
.acc-card {
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(260px, 30%, 520px);
  height: 76%;
  --dx: 0px;
  --dy: 0px;
  --scale: 0.85;
  --bright: 1;
  transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(var(--scale));
  border-radius: 16px;
  border: 1px solid var(--glass-stroke);
  background: rgba(255, 255, 255, 0.4);
  /* Soft depth (stronger to read on white backgrounds) */
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18), 0 24px 64px rgba(0, 0, 0, 0.12);
  overflow: hidden;
  display: grid;
  grid-template-rows: 1fr auto;
  transition: none;
  will-change: transform, opacity, filter;
  text-align: center;
  filter: brightness(var(--bright, 1));
}
  
  .acc-card .acc-media {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }
  
  .acc-card .acc-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Title glass curtain at top center */
  .acc-card .acc-title {
    position: absolute;
    top: 0;
    left: 50%;
    right: auto;
    transform: translateX(-50%);
    width: max-content;
    max-width: calc(100% - 24px);
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.45);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-stroke);
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    z-index: 2;
    display: grid;
    place-items: center;
    overflow: hidden;
    box-sizing: border-box;
    text-align: center;
    isolation: isolate; /* ensure pseudo-element stays behind text */
  }
  .acc-card .acc-title-text { margin: 0 auto; line-height: 1.2; white-space: nowrap; font-family: 'Montserrat', sans-serif; position: relative; z-index: 1; color: #ffffff; letter-spacing: 0; text-align: center; display: inline-block; }
  /* Continuous diagonal shine across the glass title badge */
  .acc-card .acc-title::after {
    content: '';
    position: absolute;
    inset: -60%;
    background: linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,0) 65%);
    transform: translateX(-120%) rotate(10deg);
    animation: titleShine 2.6s linear infinite;
    pointer-events: none;
    z-index: -1; /* under text within isolated stacking context */
  }
  @keyframes titleShine {
    0% { transform: translateX(-120%) rotate(10deg); }
    50% { transform: translateX(120%) rotate(10deg); }
    100% { transform: translateX(120%) rotate(10deg); }
  }
  
  .acc-card .acc-info {
    position: absolute;
    left: 0;
    right: 0;
    bottom: max(1rem, env(safe-area-inset-bottom));
    padding: 0 14px;
    display: grid;
    gap: 10px;
    place-items: center;
    background: transparent;
    z-index: 2;
  }
  
  .acc-card h4 {
    margin: 0;
  }
  
  .acc-card button {
    justify-self: center;
    background: rgba(255, 255, 255, 0.2);
    color: var(--muted);
    border-radius: 25px;
    border: 1px solid transparent;
  }
  
.acc-card.is-center {
  --scale: 1.3;
  z-index: 3;
  /* Stronger shadow for the focused card */
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.26), 0 32px 80px rgba(0, 0, 0, 0.18);
}
  
  .acc-card.is-adjacent {
    --scale: 0.95;
    filter: brightness(0.85);
    /* Slightly reduced shadow for adjacent cards (still stronger than base) */
    box-shadow: 0 14px 32px rgba(0, 0, 0, 0.20), 0 26px 68px rgba(0, 0, 0, 0.14);
  }
  /* Removed micro-shift: rely on intrinsic centering */

/* Disable transition on initial layout to avoid jump-in */
.gallery-track.is-initial .acc-card {
  transition: none !important;
}

/* Drag affordance (desktop/tablet) */
.gallery-track.is-dragging {
  cursor: grabbing;
  user-select: none;
}
  
  /* About */
  .about {
    background-color: rgba(82, 82, 82, 0.3);;
    color: #ffffff;
  }
  .about .about-intro {
    max-width: 1200px;
    margin: 0 auto 18px;
    display: grid;
    grid-template-columns: 1fr 35vh;
    gap: 18px;
    align-items: center;
    font-family: 'Montserrat';
  }
  
  .about .about-intro-media {
    width: 35vh;
    height: 35vh;
    border-radius: 16px;
    overflow: hidden;
  }
  
  .about .about-intro-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .about .about-intro-text {
    padding: 2.5rem;
    margin: 2.5rem;
  }
  /* Raise only the text block in about intro */
  .about .about-intro-text { margin-top: calc(var(--index) * -0.4); }
  
  .about .about-intro-text p {
    color: #ffffff;
  }
  
  .features {
    list-style: none;
    padding: 0;
    margin: 5rem auto;
    max-width: 1200px;
    display: grid;
    grid-template-columns: repeat(6, 1fr);
  }

 .features li {
    display: grid;
    grid-template-rows: auto auto;
    justify-items: center;
    gap: 16px;
    align-items: start;
    padding: 12px 8px;
    border-radius: 12px;
    border: none;
    background: transparent;
    will-change: transform, opacity;
    text-align: center;
    font-family: 'Unbounded';
  }
  .features li .icon {
    font-size: 0;
    width: 35px;
    height: 35px;
    display: grid;
    place-items: center;
  }
  .features li .icon::before {
    content: attr(data-emoji);
    font-size: 28px;
    line-height: 1;
  }
  .features li span:last-child {
    font-size: 14px;
    line-height: 1.3;
  }
  
.promo-banner {
    max-width: 1200px;
    margin: 24px auto 0;
    min-height: 120px;
    border-radius: 16px;
    border: 1px solid #ffffff;
    background: transparent;
    display: grid;
    place-items: center;
    padding: 12px 16px;
    font-family: 'Unbounded';
  }
  
  /* Contacts */
  .contacts .contact-form-block { max-width: 620px; margin: 0 auto 24px; }
  
  .feedback-form {
    display: grid;
    gap: 10px;
    font-family: 'Montserrat';
  }
  
  .feedback-form label {
    display: grid;
    gap: 6px;
  }
  
  .feedback-form input,
  .feedback-form textarea {
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--accent);
    background: rgba(255, 255, 255, 0.45);
    color: var(--fg);
  }

  .contacts .contact-form-block h2 {
    color: var(--accent);
  }
  
  .contact-columns {
    max-width: 1200px;
    margin: 16px auto 0;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
  
  .contact-col h4 {
    margin: 0 0 6px;
  }
  
  .contact-col p {
    margin: 0;
    color: var(--muted);
  }
  
  /* Footer */
  .site-footer {
    padding: 28px 16px;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    color: #ffffff;
    background: rgba(82, 82, 82, 0.3);
    backdrop-filter: blur(0);
    font-family: 'Unbounded';
    font-size: calc(--index * 1.2);
  }
  
  .footer-inner {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-rows: auto auto auto;
    grid-template-columns: 1fr;
    gap: 8px;
    align-items: center;
    text-align: center;
    position: relative;
  }
  
  .footer-phone {
    justify-self: center;
  }

  /* Place Feedback button back to top-right corner of footer */
  .site-footer .btn.ghost[data-open="feedback-modal"] {
    position: absolute;
    top: 8px;
    right: 24px;
    justify-self: end;
    background: transparent !important;
    color: #ffffff !important;
    border: 1px solid #ffffff !important;
    font-family: 'Montserrat';
  }

  @media (max-width: 680px) {
    .site-footer .btn.ghost[data-open="feedback-modal"] { top: -10px; right: 0px;  }
  }

/* Footer Feedback button ripple: white fill, red text/border */
.site-footer .btn.ghost[data-open="feedback-modal"] {
  position: absolute;
  overflow: hidden;
  border-radius: 25px;
}
.site-footer .btn.ghost[data-open="feedback-modal"] > span { position: relative; z-index: 1; }
.site-footer .btn.ghost[data-open="feedback-modal"]::before {
  content: '';
  position: absolute;
  top: var(--y, 50%);
  left: var(--x, 50%);
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
  background-color: #ffffff;
  border-radius: 50%;
  transition: width 0.9s ease, height 0.9s ease;
}
.site-footer .btn.ghost[data-open="feedback-modal"]:hover::before {
  width: 300px;
  height: 300px;
}
.site-footer .btn.ghost[data-open="feedback-modal"]:hover {
  color: #ff2f2f !important;
  border-color: #ff2f2f !important;
}
  
  /* Modals */
  .modal {
    position: fixed;
    inset: 0;
    z-index: 60;
    display: grid;
    place-items: center;
    pointer-events: none;
  }
  
  .modal[aria-hidden="false"] {
    pointer-events: auto;
  }
  .modal[aria-hidden="true"] .modal-backdrop,
  .modal[aria-hidden="true"] .modal-window {
    pointer-events: none;
  }
  
  .modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    opacity: 0;
  }
  
  .modal-window {
    position: relative;
    width: min(880px, 92vw);
    max-height: 86vh;
    border-radius: 16px;
    border: 1px solid var(--glass-stroke);
    background: rgba(255, 255, 255, 0.96);
    backdrop-filter: blur(10px);
    transform: translateY(12px) scale(.98);
    opacity: 0;
    overflow: auto;
    color: #ff2f2f;
  }
  
  .modal-window.glass {
    background: rgba(255, 255, 255, 0.45);
  }
  
  .modal-close {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 36px;
    height: 36px;
    padding-bottom: 5px;
    border-radius: 50%;
    border: 1px solid var(--accent);
    background: rgba(255, 255, 255, 0.45);
    z-index: 1;
    transform-origin: center;
    font-size: 28px;
    font-weight: 300;
    line-height: 1;
    color: #ff2f2f;
  }
  /* Rotation animations for hover in/out */
  .modal-close.is-rotating-in { animation: modalCloseRotateIn .25s ease forwards; }
  .modal-close.is-rotating-out { animation: modalCloseRotateOut .25s ease forwards; }
  @keyframes modalCloseRotateIn { from { transform: rotate(0deg); } to { transform: rotate(90deg); } }
  @keyframes modalCloseRotateOut { from { transform: rotate(90deg); } to { transform: rotate(0deg); } }
  
  .modal .feedback-form { padding: 20px; max-width: 460px; margin: 0 auto; text-align: center; }
  .modal-window.glass { padding-top: 30px; padding-bottom: 60px; }
  .modal-window.glass .modal-close { transform-origin: center; }
  .modal-window.glass h3 { text-align: center; }
  .modal-window.glass .feedback-form { margin: 0 auto; }
  
  .confirm-window {
    padding: 30px;
    display: grid;
    place-items: center;
  }
  
  .confirm-content {
    display: grid;
    gap: 10px;
    place-items: center;
  }
  
  .confirm-close {
    position: relative;
    width: 96px;
    height: 96px;
    border-radius: 50%;
    border: 1px solid var(--accent);
    background: rgba(255, 47, 47, 0.08);
    display: grid;
    place-items: center;
  }
  
  .confirm-close .confirm-close-label {
    position: absolute;
  }
  
  .progress-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    padding: 6px;
    background:
      radial-gradient(closest-side, rgba(0, 0, 0, 0) 80%, transparent 81%),
      conic-gradient(var(--ring) calc(var(--p, 0) * 1%), rgba(255, 255, 255, 0.1) 0);
    -webkit-mask: radial-gradient(closest-side, transparent calc(100% - 8px), black calc(100% - 8px));
    mask: radial-gradient(closest-side, transparent calc(100% - 8px), black calc(100% - 8px));
  }
  
  /* Products modal */
  .products-window {
    padding: 16px;
    width: min(1100px, 96vw);
  }
  
  .products-window h3 { margin: 4px 44px 10px 4px; }
  
  .products-window .swiper {
      height: 55vh;
  }
  
  .product-card {
    height: 100%;
    border-radius: 16px;
    border: 1px solid var(--glass-stroke);
    overflow: hidden;
    display: grid;
    grid-template-rows: 0.7fr 0.3fr;
    background: transparent;
  }
  
  .product-media {
    height: 70%;
    overflow: hidden;
  }
  
  .product-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .product-card-content {
    padding: 12px;
    display: grid;
    gap: 6px;
    overflow: auto;
    scrollbar-width: none;
  }
  
  .product-card-content::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
  
  /* Swiper overrides */
  .swiper-button-prev,
  .swiper-button-next {
    color: #fff;
    animation: arrowBreathe 0.6s infinite ease-in-out alternate;
    transform-origin: center;
  }
  
  .swiper-pagination-bullet {
    background: rgba(0, 0, 0, 1);
  }
  
  .swiper-pagination-bullet-active {
    background: #000;
  }

  @keyframes arrowBreathe {
    from { transform: translateX(0); }
    to { transform: translateX(10px); }
  }

  /* Desktop: enlarge smartphones and tablets slide images */
  @media (min-width: 1201px) {
    .repair .swiper-slide[data-kind="smartphones"] .slide-visual img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(70deg) scale(0.92);
    }
    .repair .swiper-slide[data-kind="tablets"] .slide-visual img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(310deg) scale(1.08);
    }
  }

  /* MacBook 1440x900-ish: center the slide button horizontally and slightly enlarge 1st/2nd images */
  @media (min-width: 1024px) and (max-width: 1440px) {
    .repair .swiper-slide .btn { left: 50% !important; transform: translateX(-50%); }
    .repair .swiper .swiper-pagination,
    .repair .repair-swiper .swiper-pagination {
      position: relative !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      margin-left: 0 !important;
      right: auto !important;
    }
    .repair .swiper-slide[data-kind="smartphones"] .slide-visual img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(70deg) scale(0.88);
    }
    .repair .swiper-slide[data-kind="tablets"] .slide-visual img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(310deg) scale(1.02);
    }
  }
  
  /* Responsive */
  @media (max-width: 960px) {
    .features {
      grid-template-columns: repeat(3, 1fr);
      margin-bottom: 6rem;
    }
  
    .store .store-intro {
      grid-template-columns: 1fr;
    }
    .store .store-intro-text,
    .about .about-intro-text {
      padding: 2rem;
      margin: 1.5rem;
    }
  
    .store .store-intro-media,
    .about .about-intro-media {
      width: 100%;
      height: 30vh;
    }
  
    .about .about-intro {
      grid-template-columns: 1fr;
    }
  
    .footer-inner {
      grid-template-columns: 1fr;
      text-align: center;
    }

    /* Header/menu sizing for tablets */
    .menu-container {
      width: 70%;
      left: 15%;
      height: 95vh;
    }
    .menu-inner {
      height: 90vh;
    }

    /* Repair slider sizing */
    .repair .repair-slider { max-width: 92%; }
    .repair .swiper { height: 65vh; }
    .repair .swiper-slide { width: 85%; height: 55vh; }
    .repair .slide-visual img { max-width: 75%; max-height: 75%; }
    /* Tablets: center smartphones image */
    .repair .swiper-slide[data-kind="smartphones"] .slide-visual img { position:absolute; top:50%; left:50%; transform: translate(-50%, -50%) rotate(70deg) scale(0.82); }

    /* Gallery sizing */
    .accessories-gallery {
      max-width: 92vw;
    }
    .acc-card {
      width: 42%;
      height: 70%;
    }

    /* Buttons */
    .btn {
      padding: 0.7rem 1rem;
    }
  }
  
  @media (max-width: 768px) {
    .promo-banner {
      margin-top: 3.5rem;
      margin-bottom: 3.5rem;
    }
    .features {
      grid-template-columns: repeat(2, 1fr);
      margin-bottom: 7rem;
    }
  
    /* Gallery: convert to horizontal scroll list on mobile */
    .store .store-intro-text,
    .about .about-intro-text {
      padding: 1.5rem;
      margin: 1rem;
    }
    .accessories-gallery {
      grid-template-columns: 1fr;
      gap: 12px;
      margin-bottom: 64px;
    }
    .gallery-arrow {
      display: none;
    }
    .gallery-track {
      display: flex;
      align-items: stretch;
      gap: 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      height: auto;
      padding-bottom: 8px;
    }
    .gallery-track .acc-card {
      position: relative;
      top: auto;
      left: auto;
      transform: none !important;
      width: 85%;
      height: auto;
      aspect-ratio: 4 / 5;
      flex: 0 0 85%;
      opacity: 1 !important;
      filter: none !important;
      pointer-events: auto !important;
      z-index: auto !important;
      scroll-snap-align: center;
    }
    .gallery-track .acc-card.is-center,
    .gallery-track .acc-card.is-adjacent {
      --scale: 1;
    }
  
    .products-window {
      width: 100vw;
      height: 100vh;
      border-radius: 0;
    }
  
    .products-window .swiper {
      height: calc(100vh - 70px);
    }
    .menu-container {
      width: 90%;
      left:5%;
      pointer-events: none;
    }
    .menu-container.active {
      height: 75vh;
      pointer-events: auto;
    }
    /* Ensure inner border isn't visually clipped at corners on mobile */
    .menu-inner {
      height: calc(100% - 2px);
      margin: 1px;
      border-radius: 49px;
      font-size: calc(var(--index) * 1.3);
    }
    .menu-logo {
        left: 25%;
        top: 2%;
    }
    .header__logo {
        margin-left: 0.5rem;
    }
    .header {
        width: 95%;
    }

    /* Use safe viewport on mobile */
    .section.hero,
    .section.repair,
    .section.store,
    .section.about {
      min-height: 100svh;
      height: auto;
      padding-top: 16px;
      padding-bottom: 32px;
    }

    /* Make Repair section shrink-to-content on mobile to remove extra bottom space */
    .section.repair {
      min-height: auto !important;
      height: auto !important;
      padding-bottom: 0.75rem;
    }

    /* Repair slider on mobile: taller, better image fit */
    .repair { height: auto; min-height: 100svh; }
    .repair .section-heading h2 { margin-bottom: 0; }
    .repair .swiper {
      --swiper-navigation-size: 22px;
      height: 70vh;
      position: relative; /* ensure abs pagination anchors here */
    }
    .repair .swiper-slide {
      width: 95%;
      height: 64vh;
      padding-bottom: 1.2rem; /* tighter space below content */
    }
    .repair .repair-slider { margin: -8rem auto 0; }
    .repair .swiper { padding-top: 0; }
    .section.repair { padding-top: 1.8rem; }
    .repair .section-heading h2 { margin-top: calc(var(--index) * 3); }
    .repair .slide-visual img { max-width: 58%; max-height: 48%; }
    /* Mobile: center smartphones image and shrink a bit to avoid cutting */
    .repair .swiper-slide[data-kind="smartphones"] .slide-visual img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(70deg) scale(0.7);
    }
    .repair .btn { bottom: 8.95rem !important; padding-top: 16px; padding-bottom: 16px; }
    /* Ensure pagination visible and centered above bottom edge */
    .repair .swiper .swiper-pagination,
    .repair .repair-swiper .swiper-pagination {
      position: absolute !important;
      bottom: 2.8rem !important;
      left: 50%;
      transform: translateX(-50%);
      margin: 0 !important;
      right: auto !important;
      z-index: 4;
    }

    /* Increase selector specificity for the slide button */
    .repair .swiper-slide .btn {
      bottom: 5rem !important;
      padding-top: 16px;
      padding-bottom: 16px;
    }
    /* Mobile: enlarge all images except the first (smartphones) */
    .repair .swiper-slide:not([data-kind="smartphones"]) .slide-visual img {
      max-width: 70%;
      max-height: 60%;
    }
    /* Mobile: bump tablets scale a bit while keeping rotation */
    .repair .swiper-slide[data-kind="tablets"] .slide-visual img {
      transform: translate(-50%, -50%) rotate(310deg) scale(1.05);
    }
    /* (duplicate rule unified above) */

    /* Gallery cards on mobile */
    .acc-card {
      width: 80%;
      height: 58%;
    }

    /* Buttons a bit smaller */
    .btn {
      padding: 0.6rem 0.9rem;
      font-size: 0.95rem;
    }
    .cta-phone {
      margin: auto;
      height: 35px;
      width: 35px;
    }
    .lang-btn {
      height: 35px;
      width: 35px;
      font-size: 14px;
    }
  }